<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #0d1117; font-family: Inter, sans-serif; color: #c9d1d9; }
  .container { max-width: 780px; margin: 0 auto; padding: 16px; }
  
  .btn-grid {
    display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;
    margin-bottom: 20px;
  }
  .athlete-btn {
    padding: 6px 16px; border: 1px solid #30363d; border-radius: 20px;
    background: transparent; color: #8b949e; font-family: Inter, sans-serif;
    font-size: 13px; cursor: pointer; transition: all 0.2s; white-space: nowrap;
  }
  .athlete-btn:hover { border-color: #2ea043; color: #c9d1d9; }
  .athlete-btn.active { background: #2ea04333; border-color: #2ea043; color: #2ea043; font-weight: 600; }
  .athlete-btn .code { font-size: 10px; text-transform: uppercase; opacity: 0.7; margin-right: 3px; }
  
  .profile-header { text-align: center; margin-bottom: 24px; }
  .profile-name { font-size: 22px; font-weight: 700; }
  .profile-name .nation { color: #8b949e; font-weight: 400; font-size: 14px; }
  .profile-event { color: #8b949e; font-size: 14px; margin-top: 2px; }
  
  .metric-row { margin-bottom: 16px; position: relative; }
  .metric-label { font-size: 13px; color: #8b949e; margin-bottom: 4px; }
  .bar-track { background: #161b22; border-radius: 6px; height: 32px; position: relative; overflow: hidden; }
  .bar-fill { height: 100%; border-radius: 6px; transition: width 0.5s ease; display: flex; align-items: center; justify-content: flex-end; padding-right: 10px; min-width: 60px; }
  .bar-text { font-size: 12px; font-weight: 600; color: white; white-space: nowrap; }
  .median-line { position: absolute; left: 50%; top: 0; bottom: 0; width: 1px; border-left: 1px dashed #484f58; z-index: 2; }
  .median-label { position: absolute; left: 50%; top: -16px; transform: translateX(-50%); font-size: 10px; color: #484f58; }
  
  .x-axis { display: flex; justify-content: space-between; margin-top: 8px; padding: 0 2px; }
  .x-axis span { font-size: 10px; color: #484f58; }
  
  .btm-note {
    text-align: center; color: #484f58; font-size: 10px;
    padding: 12px 16px; line-height: 1.5;
  }

  @media (max-width: 600px) {
    .container { padding: 10px; }
    .athlete-btn { padding: 5px 10px; font-size: 11px; }
    .btn-grid { gap: 5px; }
    .profile-name { font-size: 18px; }
    .profile-event { font-size: 12px; }
    .metric-label { font-size: 11px; }
    .bar-track { height: 28px; }
    .bar-text { font-size: 10px; }
  }
</style>
</head>
<body>
<div class="container">
  <div class="btn-grid" id="buttons"></div>
  <div class="profile-header">
    <div class="profile-name" id="pName"></div>
    <div class="profile-event" id="pEvent"></div>
  </div>
  <div id="metrics"></div>
  <div class="x-axis"><span>0</span><span>25</span><span>50</span><span>75</span><span>100</span></div>
  <div class="btm-note">Percentile in Race Field</div>
  <div class="btm-note" style="margin-top:-4px">Data: IBU Datacenter | Beyond the Metric</div>
</div>

<script>
const PROFILES = [{"name": "Fillon Maillet Quentin", "last": "Maillet", "nation": "FRA", "nation_code": "FR", "gender": "M", "event": "Men's Sprint Gold", "n": 90, "ski_pctl": 98, "ski_rank": 2, "acc_pctl": 88, "acc_detail": "10/10 (100%)", "shoot_pctl": 73, "shoot_detail": "25.1s/bout", "rec_pctl": 63, "rec_detail": "20.2s/bout", "display": "Quentin Fillon Maillet"}, {"name": "Kirkeeide Maren", "last": "Kirkeeide", "nation": "NOR", "nation_code": "NO", "gender": "W", "event": "Women's Sprint Gold", "n": 91, "ski_pctl": 99, "ski_rank": 1, "acc_pctl": 82, "acc_detail": "10/10 (100%)", "shoot_pctl": 43, "shoot_detail": "30.1s/bout", "rec_pctl": 82, "rec_detail": "21.6s/bout", "display": "Maren Kirkeeide"}, {"name": "Botn Johan-Olav", "last": "Botn", "nation": "NOR", "nation_code": "NO", "gender": "M", "event": "Men's Individual Gold", "n": 89, "ski_pctl": 96, "ski_rank": 4, "acc_pctl": 98, "acc_detail": "20/20 (100%)", "shoot_pctl": 26, "shoot_detail": "31.2s/bout", "rec_pctl": 61, "rec_detail": "21.0s/bout", "display": "Johan-Olav Botn"}, {"name": "Simon Julia", "last": "Simon", "nation": "FRA", "nation_code": "FR", "gender": "W", "event": "Women's Individual Gold", "n": 90, "ski_pctl": 97, "ski_rank": 3, "acc_pctl": 81, "acc_detail": "19/20 (95%)", "shoot_pctl": 94, "shoot_detail": "23.6s/bout", "rec_pctl": 99, "rec_detail": "20.3s/bout", "display": "Julia Simon"}, {"name": "Ponsiluoma Martin", "last": "Ponsiluoma", "nation": "SWE", "nation_code": "SE", "gender": "M", "event": "Men's Pursuit Gold", "n": 57, "ski_pctl": 98, "ski_rank": 1, "acc_pctl": 91, "acc_detail": "19/20 (95%)", "shoot_pctl": 75, "shoot_detail": "24.7s/bout", "rec_pctl": 93, "rec_detail": "18.6s/bout", "display": "Martin Ponsiluoma"}, {"name": "Vittozzi Lisa", "last": "Vittozzi", "nation": "ITA", "nation_code": "IT", "gender": "W", "event": "Women's Pursuit Gold", "n": 58, "ski_pctl": 67, "ski_rank": 19, "acc_pctl": 93, "acc_detail": "20/20 (100%)", "shoot_pctl": 93, "shoot_detail": "23.0s/bout", "rec_pctl": 81, "rec_detail": "20.7s/bout", "display": "Lisa Vittozzi"}, {"name": "Dale-Skjevdal Johannes", "last": "Dale-Skjevdal", "nation": "NOR", "nation_code": "NO", "gender": "M", "event": "Men's Mass Start Gold", "n": 29, "ski_pctl": 83, "ski_rank": 5, "acc_pctl": 97, "acc_detail": "20/20 (100%)", "shoot_pctl": 59, "shoot_detail": "28.4s/bout", "rec_pctl": 14, "rec_detail": "21.9s/bout", "display": "Johannes Dale-Skjevdal"}, {"name": "Michelon Oceane", "last": "Michelon", "nation": "FRA", "nation_code": "FR", "gender": "W", "event": "Women's Mass Start Gold", "n": 30, "ski_pctl": 97, "ski_rank": 1, "acc_pctl": 50, "acc_detail": "18/20 (90%)", "shoot_pctl": 83, "shoot_detail": "23.7s/bout", "rec_pctl": 50, "rec_detail": "22.1s/bout", "display": "Oc\u00e9ane Michelon"}];

let activeIdx = 0;

function barColor(pctl) {
  if (pctl >= 90) return '#2ea043';
  if (pctl >= 75) return '#3fb950';
  if (pctl >= 50) return '#d29922';
  if (pctl >= 25) return '#db6d28';
  return '#f85149';
}

function renderButtons() {
  const container = document.getElementById('buttons');
  container.innerHTML = PROFILES.map((p, i) => 
    `<button class="athlete-btn ${i === activeIdx ? 'active' : ''}" onclick="selectAthlete(${i})">` +
    `<span class="code">${p.nation_code}</span>${p.last}</button>`
  ).join('');
}

function selectAthlete(idx) {
  activeIdx = idx;
  renderButtons();
  renderProfile();
}

function renderProfile() {
  const p = PROFILES[activeIdx];
  document.getElementById('pName').innerHTML = 
    `${p.display} <span class="nation">(<span class="code">${p.nation_code}</span> ${p.nation})</span>`;
  document.getElementById('pEvent').textContent = p.event;
  
  const metrics = [
    { label: 'Skiing Speed', pctl: p.ski_pctl, detail: `${p.ski_pctl}th pctl \u00B7 #${p.ski_rank} of ${p.n}` },
    { label: 'Shooting Accuracy', pctl: p.acc_pctl, detail: `${p.acc_pctl}th pctl \u00B7 ${p.acc_detail}` },
    { label: 'Shooting Speed', pctl: p.shoot_pctl, detail: `${p.shoot_pctl}th pctl \u00B7 ${p.shoot_detail}` },
    { label: 'Recovery Speed', pctl: p.rec_pctl, detail: `${p.rec_pctl}th pctl \u00B7 ${p.rec_detail}` },
  ];
  
  const container = document.getElementById('metrics');
  // Show median label only on first metric
  container.innerHTML = metrics.map((m, i) => `
    <div class="metric-row">
      <div class="metric-label">${m.label}</div>
      <div class="bar-track">
        ${i === 0 ? '<div class="median-label">Median</div>' : ''}
        <div class="median-line"></div>
        <div class="bar-fill" style="width:${Math.max(m.pctl, 8)}%;background:${barColor(m.pctl)}">
          <span class="bar-text">${m.detail}</span>
        </div>
      </div>
    </div>
  `).join('');
}

renderButtons();
renderProfile();
</script>
</body>
</html>