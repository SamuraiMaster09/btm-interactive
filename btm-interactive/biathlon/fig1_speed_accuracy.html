<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: #0d1117; font-family: Inter, sans-serif; }
  #scatter-container { width: 100%; max-width: 960px; margin: 0 auto; }
  .filter-bar {
    display: flex; gap: 8px; justify-content: flex-start;
    padding: 12px 16px; max-width: 960px; margin: 0 auto;
  }
  .filter-btn {
    padding: 6px 18px; border: 1px solid #30363d; border-radius: 20px;
    background: transparent; color: #8b949e; font-family: Inter, sans-serif;
    font-size: 13px; cursor: pointer; transition: all 0.2s;
  }
  .filter-btn:hover { border-color: #58a6ff; color: #c9d1d9; }
  .filter-btn.active { background: #00d4ff22; border-color: #00d4ff; color: #00d4ff; }
  .btm-note {
    text-align: center; color: #484f58; font-size: 11px;
    padding: 8px 16px; font-family: Inter, sans-serif;
    max-width: 960px; margin: 0 auto; line-height: 1.5;
  }
  @media (max-width: 600px) {
    .filter-btn { padding: 5px 12px; font-size: 11px; }
    .filter-bar { padding: 8px 10px; }
    .btm-note { font-size: 10px; padding: 6px 10px; }
  }
</style>
</head>
<body>
<div class="filter-bar">
  <button class="filter-btn active" onclick="setFilter('all')">All</button>
  <button class="filter-btn" onclick="setFilter('M')">Men</button>
  <button class="filter-btn" onclick="setFilter('W')">Women</button>
</div>
<div id="scatter-container"></div>
<div class="btm-note">The inverted relationship survives controls for athlete skill, bout number, position, recovery time, and pre-ski fatigue.<br>Partial r = −0.212 (men) and −0.144 (women) under maximal controls, both p < 0.001.</div>
<script>
function isMobile() { return window.innerWidth < 600; }

const DATA = {"M_prone": {"x": [32.0, 32.2, 26.6, 29.1, 26.7, 30.7, 26.1, 29.0, 32.1, 36.4, 29.2, 29.7, 30.7, 39.8, 30.1, 36.8, 26.1, 32.3, 29.3, 33.0, 31.2, 28.8, 28.8, 32.8, 27.8, 31.1, 29.4, 31.9, 26.6, 29.9, 33.7, 37.5, 34.6, 28.4, 27.7, 26.7, 27.8, 29.0, 23.5, 24.9, 30.6, 31.3, 25.4, 27.1, 34.4, 35.3, 28.6, 29.6, 31.0, 29.3, 28.5, 29.8, 26.0, 28.6, 28.2, 29.0, 27.5, 29.5, 29.9, 31.7, 26.7, 30.2, 31.6, 30.4, 29.1, 30.5, 25.5, 28.3, 29.2, 31.5, 26.3, 27.0, 25.0, 28.7, 38.6, 37.2, 36.4, 37.0, 34.8, 34.5, 28.0, 30.0, 32.3, 37.4, 30.3, 32.4, 31.6, 38.4, 34.2, 40.2, 29.9, 28.9, 35.3, 41.8, 34.0, 32.9, 26.7, 27.6, 31.7, 33.3, 32.2, 39.4, 26.7, 39.8, 31.3, 39.6, 30.2, 30.9, 29.2, 31.8, 30.1, 31.7, 35.4, 46.4, 35.5, 36.9, 26.5, 27.8, 26.2, 35.7, 28.9, 30.2, 32.0, 33.0, 27.2, 33.3, 25.3, 26.4, 29.6, 30.8, 34.1, 35.8, 27.3, 28.3, 34.0, 34.8, 34.9, 32.0, 30.4, 33.1, 33.7, 28.9, 28.2, 30.8, 34.2, 35.5, 34.8, 35.4, 33.5, 29.9, 29.5, 38.5, 30.7, 30.8, 36.2, 30.8, 32.4, 32.5, 33.9, 38.2, 28.9, 31.3, 29.4, 31.8, 35.0, 38.5, 34.3, 32.9, 28.6, 37.6, 31.8, 33.4, 39.5, 41.3, 35.7, 34.5, 28.9, 30.1, 29.8, 27.5, 29.1, 22.4, 25.5, 32.7, 24.9, 34.0, 23.7, 30.7, 24.4, 25.1, 32.0, 25.5, 22.4, 28.0, 29.0, 23.0, 30.8, 27.3, 28.4, 33.4, 22.7, 27.1, 25.4, 27.0, 28.2, 33.2, 27.0, 26.1, 24.8, 38.7, 24.6, 29.7, 27.2, 21.9, 24.7, 27.9, 32.4, 25.4, 26.8, 24.6, 31.5, 28.3, 31.0, 22.7, 29.0, 32.7, 27.6, 26.9, 26.6, 31.8, 29.4, 27.5, 27.5, 29.6, 28.7, 27.0, 34.8, 32.4, 32.7, 32.8, 29.7, 34.5, 34.5, 26.2, 30.3, 35.1, 32.0, 34.8, 27.7, 29.0, 24.2, 38.3, 31.4, 29.3, 35.4, 32.0, 36.5, 33.8, 31.4, 30.7, 31.1, 31.9, 26.5, 32.9, 31.8, 37.2, 35.2, 26.1, 27.1, 30.4, 32.5, 28.9, 21.6, 21.0, 27.1, 26.6, 27.5, 26.2, 28.9, 28.3, 29.4, 31.3, 30.8, 25.6, 27.9, 28.6, 33.8, 31.2, 32.9, 33.0, 27.0, 26.8, 36.5, 36.1, 28.3, 28.2, 28.4, 27.1, 26.5, 28.9, 26.1, 27.1, 40.4, 35.0, 27.0, 26.3, 28.4, 25.4, 26.7, 27.7, 27.8, 24.8, 25.6, 31.7, 29.6, 28.6, 30.7, 28.5, 27.3, 26.9, 29.0, 27.0, 26.6, 28.0, 26.4, 30.5, 26.5, 25.2, 28.2, 33.1, 26.7, 27.2, 26.9, 29.5, 28.3, 27.3, 29.3, 27.3, 23.3, 25.3, 29.9, 31.9, 32.6, 28.0, 31.5, 29.5, 26.2, 26.9, 28.9, 32.2, 26.6, 28.4, 25.6, 27.8, 36.5, 35.5, 25.4, 27.3, 20.3, 22.5, 33.8, 37.0, 35.1, 35.5, 21.7, 26.1, 32.5, 32.0, 34.9, 30.0, 32.9, 28.0, 27.8, 29.6, 33.9, 34.0, 30.7, 35.9, 28.0, 26.4, 31.5, 35.8, 26.8, 29.1, 30.4, 30.0, 29.3, 28.3, 31.2, 29.6, 28.5, 30.8, 32.8, 35.1, 32.8, 34.9, 28.6, 33.4, 23.3, 26.2, 24.3, 31.0, 24.3, 26.3, 23.4, 23.8, 27.2, 30.3, 25.8, 28.9, 25.0, 28.4, 24.5, 28.4, 26.3, 27.3, 24.1, 28.1, 27.7, 27.3, 28.2, 33.9, 27.0, 31.3, 25.2, 36.3, 27.5, 27.9, 29.6, 30.0, 31.6, 37.6, 24.5, 27.0, 28.5, 24.4, 27.6, 36.8, 25.6, 25.5], "y": [100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 60.0, 60.0, 100.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 60.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 100.0, 80.0, 80.0, 80.0, 60.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 60.0, 80.0, 80.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 60.0, 80.0, 100.0, 100.0, 60.0, 60.0, 100.0, 60.0, 80.0, 100.0, 80.0, 100.0, 60.0, 100.0, 100.0, 80.0, 100.0, 60.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 80.0, 60.0, 100.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 60.0, 100.0, 80.0, 80.0, 80.0, 40.0, 60.0, 80.0, 40.0, 40.0, 100.0, 80.0, 60.0, 80.0, 40.0, 40.0, 80.0, 80.0, 80.0, 40.0, 60.0, 80.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 60.0, 60.0, 80.0, 60.0, 60.0, 40.0, 40.0, 80.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 60.0, 100.0, 100.0, 100.0, 60.0, 80.0, 100.0, 80.0, 100.0, 100.0, 80.0, 80.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 60.0, 80.0, 60.0, 100.0, 80.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 80.0, 80.0, 100.0, 40.0, 100.0, 80.0, 80.0, 60.0, 60.0, 80.0, 100.0, 80.0, 40.0, 100.0, 80.0, 40.0, 60.0, 80.0, 60.0, 80.0, 60.0, 80.0, 60.0, 40.0, 80.0, 60.0, 40.0, 80.0, 100.0, 60.0, 80.0, 80.0, 40.0, 100.0, 60.0, 40.0, 40.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 80.0, 60.0, 60.0, 100.0, 80.0, 80.0, 100.0, 60.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 80.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 60.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 60.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 60.0, 100.0, 40.0, 100.0, 80.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 40.0, 80.0, 80.0, 40.0, 80.0, 80.0, 60.0, 80.0, 80.0, 60.0, 80.0, 60.0, 80.0, 40.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 40.0, 80.0, 80.0, 80.0, 40.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 60.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 60.0, 100.0, 100.0, 60.0, 60.0, 100.0, 80.0, 60.0, 60.0, 40.0, 100.0, 40.0, 100.0, 60.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 40.0, 80.0, 60.0, 60.0, 100.0, 80.0], "r": -0.266, "n": 440, "x_line": [20.3, 46.4], "y_line": [95.02383363406571, 65.21832073787712]}, "M_standing": {"x": [34.0, 26.6, 25.1, 20.3, 25.8, 25.6, 22.5, 28.6, 28.3, 31.6, 20.4, 19.1, 24.4, 23.2, 22.4, 23.0, 18.8, 24.1, 23.9, 25.9, 28.3, 28.3, 27.9, 34.2, 30.0, 19.6, 23.2, 28.6, 25.8, 22.5, 28.3, 34.3, 25.0, 24.0, 26.8, 31.5, 23.5, 26.7, 17.4, 18.0, 28.5, 25.7, 20.8, 18.9, 26.8, 29.6, 27.9, 35.4, 25.8, 21.0, 26.4, 24.7, 25.1, 19.7, 26.0, 32.1, 26.2, 24.4, 28.9, 27.7, 26.7, 31.3, 21.7, 25.0, 23.3, 24.0, 22.7, 25.8, 23.1, 22.7, 21.2, 23.1, 22.2, 32.2, 26.3, 25.5, 30.8, 31.4, 22.6, 25.7, 22.8, 24.7, 40.4, 28.0, 28.3, 24.3, 26.8, 31.7, 37.3, 28.4, 28.4, 23.0, 30.0, 31.4, 25.8, 21.9, 22.4, 22.7, 24.7, 24.6, 30.2, 25.7, 44.0, 40.4, 31.1, 32.1, 23.5, 24.2, 23.8, 24.4, 26.1, 28.7, 31.9, 36.2, 28.9, 29.9, 24.3, 33.5, 21.8, 26.9, 21.5, 20.8, 28.3, 28.1, 27.9, 29.2, 23.5, 22.3, 25.6, 26.2, 25.6, 23.6, 27.9, 23.4, 40.5, 27.5, 29.4, 36.2, 26.4, 25.3, 23.4, 24.2, 30.3, 35.5, 31.0, 27.2, 33.3, 27.5, 28.6, 28.0, 32.3, 31.5, 24.2, 22.7, 28.5, 22.3, 27.5, 27.2, 26.5, 27.3, 23.6, 23.2, 28.4, 30.5, 30.9, 29.1, 24.7, 28.5, 28.9, 24.0, 25.4, 29.4, 29.1, 31.4, 30.0, 28.4, 23.2, 26.0, 20.4, 21.6, 21.4, 16.8, 20.6, 26.7, 19.9, 35.7, 23.7, 24.7, 22.4, 21.9, 30.6, 24.2, 24.1, 24.7, 26.3, 23.6, 33.2, 21.9, 22.4, 22.4, 23.3, 23.6, 31.2, 27.5, 27.0, 25.1, 20.2, 25.5, 22.9, 29.3, 23.0, 25.3, 23.8, 18.2, 27.3, 26.1, 27.8, 29.2, 23.6, 22.2, 21.6, 25.8, 26.9, 22.4, 29.8, 27.9, 22.1, 25.2, 21.3, 31.1, 29.9, 23.7, 25.0, 26.4, 20.2, 26.4, 33.4, 28.3, 28.0, 27.9, 24.1, 34.0, 29.2, 23.8, 23.7, 24.6, 23.0, 28.7, 28.2, 28.9, 26.4, 27.0, 28.5, 26.5, 28.3, 26.9, 19.9, 28.9, 25.7, 26.4, 23.0, 25.2, 32.0, 20.0, 24.9, 25.3, 35.0, 22.3, 21.2, 20.0, 23.3, 21.6, 21.5, 18.8, 20.0, 21.1, 33.0, 22.7, 27.8, 22.6, 19.7, 19.5, 22.8, 23.1, 17.1, 17.3, 21.6, 23.0, 27.3, 23.8, 21.3, 20.3, 24.8, 24.2, 27.4, 25.5, 22.5, 19.5, 25.7, 29.1, 23.2, 21.9, 31.2, 31.4, 25.6, 22.6, 28.0, 25.0, 22.9, 23.3, 24.6, 24.5, 24.8, 24.5, 22.0, 23.6, 20.4, 24.1, 26.0, 23.5, 24.3, 25.7, 24.9, 27.0, 25.0, 25.1, 22.6, 27.8, 26.0, 22.3, 21.2, 21.4, 24.7, 20.4, 24.6, 26.3, 21.9, 21.1, 22.4, 22.5, 22.5, 26.0, 23.1, 26.8, 24.0, 21.8, 24.2, 22.8, 21.9, 26.9, 21.4, 17.9, 23.0, 20.8, 27.1, 29.0, 21.5, 23.0, 16.7, 17.4, 30.6, 29.4, 26.3, 24.2, 21.2, 19.3, 25.0, 23.2, 28.7, 22.9, 21.2, 22.6, 28.4, 26.5, 27.5, 29.7, 28.1, 26.9, 27.2, 30.1, 24.5, 23.3, 33.2, 24.6, 32.2, 24.0, 20.2, 23.9, 33.9, 22.4, 32.2, 32.3, 29.6, 23.8, 30.1, 27.6, 38.9, 32.5, 29.6, 28.4, 33.5, 29.5, 36.6, 20.4, 25.2, 17.5, 42.9, 20.1, 30.3, 22.3, 49.0, 21.5, 47.4, 24.1, 31.8, 22.5, 46.7, 20.6, 41.8, 19.4, 31.8, 20.0, 27.2, 20.7, 40.5, 26.7, 28.2, 25.9, 32.5, 26.5, 43.6, 23.4, 38.8, 25.6, 30.7, 22.0, 24.8, 23.8, 39.1, 22.1], "y": [100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 60.0, 60.0, 80.0, 100.0, 80.0, 100.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 60.0, 80.0, 80.0, 40.0, 100.0, 100.0, 80.0, 100.0, 80.0, 60.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 60.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 80.0, 100.0, 40.0, 60.0, 100.0, 100.0, 100.0, 80.0, 60.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 80.0, 80.0, 60.0, 100.0, 100.0, 80.0, 80.0, 60.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 60.0, 100.0, 80.0, 80.0, 80.0, 40.0, 80.0, 80.0, 100.0, 80.0, 80.0, 100.0, 100.0, 20.0, 100.0, 60.0, 100.0, 80.0, 60.0, 80.0, 60.0, 40.0, 60.0, 80.0, 60.0, 80.0, 40.0, 80.0, 60.0, 80.0, 80.0, 40.0, 80.0, 60.0, 100.0, 80.0, 60.0, 40.0, 80.0, 40.0, 60.0, 80.0, 60.0, 100.0, 60.0, 80.0, 80.0, 60.0, 80.0, 80.0, 60.0, 80.0, 80.0, 80.0, 100.0, 60.0, 60.0, 60.0, 20.0, 60.0, 80.0, 40.0, 80.0, 60.0, 80.0, 100.0, 40.0, 60.0, 60.0, 100.0, 20.0, 100.0, 80.0, 60.0, 100.0, 100.0, 100.0, 100.0, 100.0, 60.0, 80.0, 100.0, 80.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 60.0, 80.0, 100.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 80.0, 80.0, 60.0, 100.0, 80.0, 80.0, 80.0, 100.0, 80.0, 60.0, 80.0, 60.0, 80.0, 60.0, 40.0, 40.0, 100.0, 100.0, 80.0, 40.0, 80.0, 100.0, 20.0, 80.0, 60.0, 80.0, 80.0, 100.0, 100.0, 80.0, 20.0, 100.0, 80.0, 80.0, 80.0, 100.0, 80.0, 80.0, 60.0, 60.0, 100.0, 60.0, 100.0, 80.0, 60.0, 80.0, 40.0, 60.0, 100.0, 80.0, 60.0, 60.0, 60.0, 80.0, 80.0, 60.0, 40.0, 80.0, 60.0, 60.0, 100.0, 80.0, 80.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 60.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 100.0, 60.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 60.0, 80.0, 80.0, 40.0, 80.0, 80.0, 100.0, 100.0, 60.0, 80.0, 80.0, 100.0, 60.0, 80.0, 100.0, 80.0, 100.0, 60.0, 100.0, 80.0, 40.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 60.0, 80.0, 60.0, 80.0, 100.0, 60.0, 60.0, 80.0, 80.0, 80.0, 60.0, 80.0, 40.0, 60.0, 60.0, 60.0, 80.0, 80.0, 80.0, 80.0, 80.0, 80.0, 60.0, 60.0, 80.0, 80.0, 40.0, 100.0, 100.0, 100.0, 80.0, 80.0, 60.0, 80.0, 80.0, 80.0, 100.0, 80.0, 100.0, 60.0, 100.0, 100.0, 80.0, 60.0, 60.0, 80.0, 60.0, 100.0, 80.0, 20.0, 80.0, 60.0, 80.0, 80.0, 60.0, 80.0, 60.0, 60.0, 80.0, 40.0, 100.0, 60.0, 100.0, 80.0, 80.0, 80.0, 60.0, 100.0, 100.0, 80.0, 100.0, 60.0, 80.0, 100.0, 80.0, 60.0, 80.0, 80.0, 20.0, 80.0, 40.0, 100.0, 60.0, 40.0, 60.0, 60.0, 40.0, 80.0, 100.0, 20.0, 80.0, 80.0, 100.0, 60.0, 80.0, 60.0, 80.0, 80.0, 100.0, 60.0, 80.0, 80.0, 80.0, 80.0, 60.0, 40.0, 80.0, 80.0, 80.0, 60.0, 60.0, 20.0, 80.0, 40.0, 80.0, 20.0, 60.0, 40.0, 40.0, 20.0, 80.0, 60.0, 60.0, 0.0, 80.0], "r": -0.195, "n": 440, "x_line": [16.7, 49.0], "y_line": [85.06932474894062, 59.4088203108943]}, "W_prone": {"x": [24.7, 25.9, 27.0, 31.7, 31.7, 31.7, 34.3, 34.7, 24.0, 26.6, 31.2, 32.0, 30.1, 29.6, 25.1, 27.9, 27.4, 27.9, 22.7, 29.1, 29.6, 32.7, 31.2, 30.8, 30.1, 29.3, 42.4, 48.8, 28.1, 31.0, 28.4, 31.2, 26.2, 28.6, 27.8, 33.9, 34.2, 38.1, 27.7, 27.3, 37.6, 40.3, 30.9, 31.8, 29.2, 30.5, 33.0, 36.1, 25.5, 26.3, 33.3, 36.1, 27.5, 32.0, 25.4, 26.6, 29.7, 39.5, 29.7, 32.8, 27.9, 27.5, 37.9, 31.1, 33.3, 40.4, 26.5, 30.1, 28.9, 26.9, 29.2, 32.6, 21.2, 23.3, 26.6, 27.5, 28.6, 31.5, 27.5, 32.7, 26.2, 24.9, 23.8, 24.2, 34.8, 31.2, 32.5, 36.7, 25.9, 30.0, 29.9, 38.5, 28.1, 33.0, 31.6, 38.3, 35.5, 33.5, 31.6, 34.4, 32.4, 42.1, 27.7, 27.2, 31.4, 32.2, 33.1, 34.0, 28.5, 38.2, 30.5, 37.8, 30.6, 35.6, 35.6, 43.3, 32.7, 30.6, 27.3, 33.5, 33.2, 32.9, 32.7, 33.5, 28.4, 43.7, 33.5, 35.4, 29.6, 32.5, 30.4, 32.0, 32.6, 31.1, 31.8, 35.3, 29.2, 26.3, 39.9, 40.2, 32.3, 33.4, 35.5, 41.7, 29.7, 34.6, 39.4, 40.0, 33.1, 31.0, 30.8, 34.0, 34.7, 32.7, 36.0, 34.1, 30.7, 29.1, 35.4, 32.9, 29.0, 34.1, 32.6, 29.3, 32.8, 40.5, 45.7, 34.9, 28.0, 31.6, 42.7, 48.4, 32.7, 32.3, 38.2, 36.8, 34.0, 54.0, 49.3, 42.4, 31.5, 30.2, 31.6, 26.4, 24.4, 25.8, 24.9, 30.2, 28.1, 34.4, 29.5, 25.9, 32.7, 28.9, 29.6, 31.4, 33.4, 23.3, 30.7, 31.3, 29.2, 26.6, 31.2, 29.5, 28.3, 31.5, 28.1, 27.5, 27.8, 27.0, 36.6, 28.4, 27.6, 23.7, 26.9, 28.2, 27.4, 41.5, 30.8, 26.7, 27.2, 24.4, 32.3, 27.8, 27.3, 28.2, 29.9, 37.1, 28.7, 30.0, 33.0, 30.4, 33.9, 29.7, 26.7, 43.5, 31.0, 34.6, 30.0, 25.5, 30.8, 39.3, 33.8, 31.4, 30.5, 33.6, 35.2, 29.8, 31.7, 37.0, 37.6, 33.7, 42.0, 37.4, 31.7, 23.9, 29.5, 36.0, 36.4, 33.1, 40.5, 40.7, 33.5, 33.7, 30.1, 28.6, 35.2, 35.9, 42.8, 36.9, 38.1, 21.9, 21.5, 29.8, 34.9, 28.3, 28.5, 27.6, 31.9, 32.9, 27.7, 27.6, 27.6, 30.8, 28.8, 28.8, 24.1, 21.4, 28.0, 24.5, 27.6, 31.5, 35.5, 31.8, 31.8, 25.3, 27.8, 30.2, 30.6, 26.4, 28.2, 29.9, 28.1, 29.3, 29.7, 35.1, 28.6, 30.1, 34.1, 37.3, 43.6, 29.3, 29.1, 26.5, 26.0, 29.4, 31.2, 30.6, 32.8, 24.8, 30.4, 28.5, 31.9, 25.1, 30.0, 39.4, 32.0, 25.6, 25.7, 27.7, 23.4, 32.3, 32.1, 30.8, 28.3, 28.1, 27.7, 28.3, 30.4, 27.7, 30.5, 33.1, 31.8, 36.1, 34.1, 28.3, 30.8, 36.9, 36.4, 26.3, 29.7, 26.0, 26.2, 34.5, 33.1, 32.7, 31.8, 24.2, 28.3, 33.0, 26.6, 36.2, 26.2, 34.5, 32.6, 22.6, 25.0, 34.2, 35.1, 26.7, 30.1, 26.4, 27.5, 30.5, 30.2, 40.4, 40.2, 23.6, 23.7, 29.9, 31.8, 27.8, 33.1, 30.4, 29.9, 36.4, 47.2, 27.9, 24.1, 21.7, 22.2, 29.3, 28.5, 25.8, 26.1, 22.4, 22.8, 28.1, 26.2, 27.6, 26.5, 23.1, 27.3, 29.4, 31.4, 23.5, 22.9, 29.8, 28.4, 28.0, 29.7, 27.1, 28.8, 25.3, 26.1, 24.9, 28.8, 27.2, 27.0, 23.7, 24.2, 21.4, 23.0, 26.5, 28.3, 27.2, 25.7, 31.3, 27.5, 27.4, 31.0, 33.0, 31.4, 27.9, 24.1, 25.5, 31.9, 26.7, 28.2, 36.7, 35.7, 26.1, 26.6, 37.6, 42.3, 33.8, 32.5], "y": [100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 60.0, 100.0, 80.0, 100.0, 40.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 60.0, 80.0, 80.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 40.0, 80.0, 60.0, 80.0, 80.0, 80.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 80.0, 80.0, 60.0, 100.0, 80.0, 100.0, 80.0, 60.0, 100.0, 100.0, 40.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 40.0, 100.0, 20.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 40.0, 60.0, 80.0, 60.0, 40.0, 80.0, 80.0, 60.0, 100.0, 100.0, 60.0, 60.0, 80.0, 60.0, 80.0, 40.0, 80.0, 60.0, 60.0, 80.0, 80.0, 80.0, 40.0, 40.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 60.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 60.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 60.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 60.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 100.0, 40.0, 100.0, 60.0, 80.0, 60.0, 100.0, 100.0, 40.0, 100.0, 80.0, 40.0, 80.0, 100.0, 80.0, 80.0, 60.0, 100.0, 40.0, 40.0, 100.0, 60.0, 40.0, 100.0, 80.0, 100.0, 60.0, 80.0, 80.0, 80.0, 80.0, 40.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 60.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 60.0, 100.0, 60.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 60.0, 80.0, 80.0, 80.0, 100.0, 80.0, 60.0, 80.0, 60.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 60.0, 80.0, 80.0, 100.0, 100.0, 60.0, 80.0, 80.0, 80.0, 60.0, 60.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 60.0, 60.0, 100.0, 80.0, 100.0, 60.0, 80.0, 100.0, 40.0, 100.0, 60.0, 100.0, 100.0, 60.0, 80.0, 80.0, 80.0, 60.0, 80.0, 60.0, 80.0, 80.0, 100.0, 80.0, 80.0, 80.0, 80.0, 100.0, 60.0, 100.0, 80.0, 60.0, 80.0, 60.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 40.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 60.0, 40.0, 80.0, 100.0, 60.0, 80.0, 80.0, 100.0, 100.0, 60.0, 40.0], "r": -0.29, "n": 447, "x_line": [21.2, 54.0], "y_line": [95.89488705713568, 63.41168575120028]}, "W_standing": {"x": [20.7, 23.1, 32.1, 25.5, 25.9, 24.6, 31.1, 41.1, 22.2, 20.5, 24.7, 32.0, 25.5, 26.1, 26.6, 26.5, 30.0, 29.5, 25.3, 23.8, 35.3, 33.3, 25.0, 35.4, 34.2, 29.3, 48.1, 56.0, 28.5, 33.3, 24.3, 27.5, 22.5, 23.6, 25.2, 27.0, 28.3, 29.3, 23.6, 23.5, 43.3, 39.9, 23.9, 27.9, 33.2, 24.4, 31.8, 33.9, 25.6, 28.2, 36.4, 38.8, 24.0, 25.4, 22.6, 25.1, 28.5, 28.1, 26.5, 27.8, 25.9, 29.9, 48.3, 27.4, 31.4, 26.3, 31.0, 35.2, 39.7, 30.7, 27.8, 26.1, 24.6, 22.6, 24.2, 25.6, 24.5, 25.5, 29.4, 30.9, 21.0, 21.6, 21.2, 23.9, 22.5, 24.2, 33.5, 28.8, 24.5, 29.5, 36.2, 66.5, 31.3, 29.1, 24.8, 24.3, 28.3, 27.3, 26.9, 26.4, 33.6, 37.1, 21.9, 21.8, 30.9, 31.1, 29.5, 28.8, 26.2, 24.9, 24.0, 25.5, 27.6, 32.2, 31.5, 32.5, 35.3, 28.6, 28.0, 29.6, 25.2, 25.8, 39.4, 29.8, 25.6, 39.9, 26.6, 28.6, 23.5, 27.4, 29.5, 28.9, 33.0, 25.7, 30.1, 28.3, 31.7, 23.3, 37.4, 39.1, 39.9, 25.0, 36.7, 27.4, 25.9, 23.9, 32.8, 36.6, 29.5, 27.3, 31.4, 34.3, 32.1, 37.6, 31.8, 32.4, 26.1, 24.4, 27.0, 26.4, 28.1, 28.8, 31.1, 22.9, 29.6, 43.1, 34.1, 38.1, 25.7, 29.2, 45.0, 41.3, 32.7, 31.4, 29.8, 39.2, 36.8, 42.2, 41.8, 34.0, 28.8, 26.5, 26.7, 30.6, 22.0, 22.5, 22.7, 25.4, 27.3, 35.8, 24.0, 28.9, 23.2, 38.0, 26.5, 32.7, 35.6, 22.1, 26.1, 25.8, 27.7, 30.5, 24.5, 26.2, 27.2, 27.7, 28.1, 25.4, 26.6, 27.2, 30.9, 38.6, 26.6, 27.6, 25.4, 31.8, 24.0, 32.7, 29.5, 29.2, 33.7, 20.0, 28.2, 22.2, 25.5, 29.2, 31.4, 39.0, 28.7, 28.7, 22.5, 23.1, 24.6, 27.9, 28.5, 36.7, 29.0, 29.5, 33.9, 23.9, 39.0, 32.4, 30.3, 29.8, 29.1, 34.0, 37.7, 32.2, 26.4, 30.7, 33.0, 36.8, 36.8, 29.6, 26.4, 27.8, 26.0, 30.7, 40.9, 28.2, 29.1, 31.2, 36.9, 39.9, 25.1, 22.0, 37.6, 29.7, 35.4, 30.7, 39.1, 24.5, 24.1, 23.2, 34.8, 22.8, 23.7, 29.9, 24.9, 26.2, 24.5, 21.8, 24.0, 24.7, 24.5, 19.7, 19.1, 18.8, 20.6, 27.3, 23.6, 29.1, 24.6, 24.5, 22.8, 26.7, 26.4, 31.6, 27.5, 21.5, 21.6, 25.6, 29.9, 26.8, 25.3, 22.9, 27.2, 28.0, 30.3, 33.6, 31.6, 28.1, 28.8, 23.0, 25.6, 26.1, 28.5, 23.0, 24.4, 30.1, 31.4, 26.9, 28.3, 20.9, 26.4, 28.3, 25.9, 22.9, 24.2, 28.4, 34.8, 26.1, 24.9, 25.6, 26.3, 24.1, 25.3, 26.4, 21.9, 34.0, 29.1, 24.0, 24.2, 26.1, 20.7, 27.8, 33.8, 36.6, 49.4, 28.1, 24.3, 25.0, 26.8, 29.5, 24.9, 25.9, 26.1, 27.9, 22.5, 29.7, 22.2, 37.9, 26.4, 28.5, 29.4, 19.9, 21.3, 30.7, 27.7, 26.7, 23.5, 28.5, 28.1, 22.2, 31.0, 30.0, 35.2, 22.3, 22.5, 31.4, 27.3, 25.6, 26.5, 27.3, 32.9, 36.1, 35.8, 20.0, 22.6, 20.0, 22.8, 25.5, 29.2, 26.0, 30.5, 19.7, 23.6, 21.3, 23.9, 27.1, 28.8, 22.8, 22.3, 27.5, 26.8, 22.3, 19.4, 28.7, 29.5, 18.8, 24.9, 23.5, 28.8, 21.3, 26.2, 27.4, 27.5, 23.8, 25.7, 25.8, 27.7, 19.1, 22.7, 24.1, 24.5, 29.9, 32.7, 22.9, 21.1, 26.7, 27.2, 30.9, 32.0, 21.6, 25.1, 21.7, 29.5, 25.4, 22.3, 37.6, 29.1, 27.4, 24.1, 42.4, 39.4, 24.0, 24.7], "y": [80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 60.0, 80.0, 100.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 40.0, 100.0, 100.0, 60.0, 100.0, 80.0, 100.0, 60.0, 80.0, 60.0, 100.0, 80.0, 100.0, 80.0, 60.0, 100.0, 60.0, 80.0, 80.0, 80.0, 80.0, 100.0, 60.0, 80.0, 80.0, 80.0, 80.0, 100.0, 80.0, 100.0, 60.0, 80.0, 100.0, 60.0, 100.0, 80.0, 100.0, 100.0, 80.0, 80.0, 80.0, 100.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 60.0, 100.0, 80.0, 100.0, 40.0, 80.0, 80.0, 100.0, 80.0, 100.0, 100.0, 80.0, 80.0, 100.0, 80.0, 60.0, 80.0, 100.0, 60.0, 80.0, 100.0, 40.0, 80.0, 100.0, 60.0, 80.0, 100.0, 60.0, 60.0, 60.0, 60.0, 60.0, 80.0, 60.0, 60.0, 60.0, 100.0, 80.0, 60.0, 20.0, 80.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 60.0, 80.0, 80.0, 40.0, 60.0, 100.0, 60.0, 100.0, 80.0, 80.0, 60.0, 80.0, 80.0, 60.0, 60.0, 60.0, 60.0, 80.0, 80.0, 20.0, 100.0, 40.0, 40.0, 60.0, 60.0, 40.0, 80.0, 20.0, 60.0, 40.0, 40.0, 80.0, 100.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 60.0, 100.0, 100.0, 100.0, 100.0, 60.0, 80.0, 80.0, 60.0, 100.0, 100.0, 100.0, 60.0, 60.0, 100.0, 60.0, 100.0, 60.0, 60.0, 80.0, 80.0, 100.0, 80.0, 60.0, 60.0, 80.0, 80.0, 100.0, 100.0, 80.0, 60.0, 60.0, 80.0, 80.0, 80.0, 60.0, 60.0, 100.0, 100.0, 100.0, 60.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 80.0, 40.0, 60.0, 80.0, 100.0, 80.0, 40.0, 100.0, 100.0, 80.0, 60.0, 80.0, 80.0, 60.0, 80.0, 80.0, 60.0, 80.0, 40.0, 40.0, 80.0, 80.0, 60.0, 40.0, 100.0, 80.0, 60.0, 60.0, 60.0, 80.0, 60.0, 40.0, 100.0, 100.0, 100.0, 60.0, 100.0, 100.0, 80.0, 80.0, 80.0, 80.0, 100.0, 60.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 60.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 60.0, 100.0, 80.0, 100.0, 80.0, 80.0, 100.0, 100.0, 60.0, 100.0, 80.0, 100.0, 100.0, 100.0, 80.0, 80.0, 100.0, 100.0, 60.0, 100.0, 60.0, 80.0, 80.0, 80.0, 80.0, 80.0, 60.0, 80.0, 60.0, 80.0, 40.0, 80.0, 80.0, 100.0, 100.0, 100.0, 80.0, 80.0, 80.0, 60.0, 80.0, 60.0, 100.0, 40.0, 80.0, 40.0, 100.0, 100.0, 80.0, 100.0, 80.0, 60.0, 80.0, 80.0, 60.0, 80.0, 60.0, 80.0, 80.0, 100.0, 80.0, 100.0, 60.0, 40.0, 40.0, 100.0, 80.0, 60.0, 80.0, 60.0, 80.0, 60.0, 60.0, 60.0, 100.0, 60.0, 100.0, 100.0, 40.0, 60.0, 60.0, 80.0, 100.0, 80.0, 100.0, 80.0, 80.0, 60.0, 80.0, 100.0, 80.0, 80.0, 100.0, 100.0, 100.0, 100.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 80.0, 80.0, 100.0, 80.0, 100.0, 80.0, 100.0, 100.0, 80.0, 100.0, 60.0, 100.0, 80.0, 100.0, 60.0, 80.0, 100.0, 80.0, 60.0, 60.0, 60.0, 100.0, 60.0, 80.0, 100.0, 80.0, 40.0, 80.0, 80.0, 80.0, 100.0, 60.0, 60.0, 60.0, 60.0, 80.0, 60.0, 80.0, 100.0, 60.0, 60.0, 20.0, 80.0, 80.0, 80.0, 40.0, 60.0], "r": -0.233, "n": 447, "x_line": [18.8, 66.5], "y_line": [87.45375397556855, 51.706925710832245]}};

const colorMap = {
  'M_prone':    {marker: '#00d4ff', line: '#00d4ff', symbol: 'circle', name: 'Men — Prone'},
  'M_standing': {marker: '#00d4ff', line: '#58a6ff', symbol: 'diamond', name: 'Men — Standing'},
  'W_prone':    {marker: '#FFB347', line: '#FFB347', symbol: 'circle', name: 'Women — Prone'},
  'W_standing': {marker: '#FFB347', line: '#e5983e', symbol: 'diamond', name: 'Women — Standing'},
};

let currentFilter = 'all';

function getVisibleKeys(filter) {
  if (filter === 'all') return Object.keys(DATA);
  return Object.keys(DATA).filter(k => k.startsWith(filter));
}

function makeTraces(filter) {
  const keys = getVisibleKeys(filter);
  const traces = [];
  for (const key of keys) {
    const d = DATA[key];
    const c = colorMap[key];
    // scatter points
    traces.push({
      type: 'scatter', mode: 'markers', name: c.name,
      x: d.x, y: d.y,
      marker: {color: c.marker, symbol: c.symbol, size: isMobile() ? 5 : 7, opacity: 0.6},
      hovertemplate: '<b>' + c.name + '</b><br>Time: %{x:.1f}s<br>Hit: %{y:.0f}%<extra></extra>',
      legendgroup: key, showlegend: true
    });
    // regression line
    traces.push({
      type: 'scatter', mode: 'lines', name: 'r = ' + d.r,
      x: d.x_line, y: d.y_line,
      line: {color: c.line, width: 2.5},
      legendgroup: key, showlegend: true,
      hoverinfo: 'skip'
    });
  }
  return traces;
}

function getLayout() {
  const mobile = isMobile();
  const titleSize = mobile ? 14 : 18;
  const subtitleSize = mobile ? 10 : 13;
  return {
    title: {
      text: '<b>Slower Shooting Predicts Higher Accuracy</b><br><span style="font-size:' + subtitleSize + 'px;color:#8b949e">Each dot = one shooting bout. Colors identify the athlete. ' + (mobile ? '' : Object.values(DATA).reduce((s,d)=>s+d.n,0) + ' shooting bouts across ' + (currentFilter === 'all' ? 'all athletes' : currentFilter === 'M' ? 'men' : 'women') + '.') + '</span>',
      font: {size: titleSize, color: '#c9d1d9', family: 'Inter, sans-serif'},
      x: 0.5, xanchor: 'center'
    },
    xaxis: {
      color: '#8b949e', gridcolor: '#21262d',
      title: {text: mobile ? 'Shooting Time (s)' : 'Shooting Time (seconds)', font: {size: mobile ? 10 : 13, color: '#c9d1d9'}},
      tickfont: {size: mobile ? 9 : 11}
    },
    yaxis: {
      color: '#8b949e', gridcolor: '#21262d',
      title: {text: mobile ? 'Hit %' : 'Hit Percentage (%)', font: {size: mobile ? 10 : 13, color: '#c9d1d9'}},
      tickfont: {size: mobile ? 9 : 11}
    },
    plot_bgcolor: '#0d1117', paper_bgcolor: '#0d1117',
    font: {family: 'Inter, sans-serif', color: '#c9d1d9'},
    legend: {
      bgcolor: 'rgba(13,17,23,0.9)', bordercolor: '#30363d', borderwidth: 1,
      font: {size: mobile ? 9 : 11},
      x: mobile ? 0.5 : 0.98, y: mobile ? -0.15 : 0.02,
      xanchor: mobile ? 'center' : 'right', yanchor: 'bottom',
      orientation: mobile ? 'h' : 'v'
    },
    margin: {l: mobile ? 45 : 60, r: mobile ? 10 : 30, t: mobile ? 65 : 80, b: mobile ? 55 : 60},
    hoverlabel: {bgcolor: '#161b22', bordercolor: '#30363d', font: {family: 'Inter, sans-serif', size: 12, color: '#c9d1d9'}},
    annotations: [{
      text: 'Data: IBU Datacenter | Beyond the Metric',
      xref: 'paper', yref: 'paper', x: 1, y: mobile ? -0.18 : -0.12,
      showarrow: false, font: {size: mobile ? 8 : 10, color: '#484f58'}, xanchor: 'right'
    }]
  };
}

const config = {
  responsive: true,
  displayModeBar: !isMobile(),
  modeBarButtonsToRemove: ['select2d', 'lasso2d', 'autoScale2d'],
  displaylogo: false,
  toImageButtonOptions: {format: 'png', filename: 'btm_speed_accuracy', height: 800, width: 1200, scale: 2}
};

function render() {
  Plotly.react('scatter-container', makeTraces(currentFilter), getLayout(), {...config, displayModeBar: !isMobile()});
}

function setFilter(f) {
  currentFilter = f;
  document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
  event.target.classList.add('active');
  render();
}

render();

let resizeTimer;
window.addEventListener('resize', function() {
  clearTimeout(resizeTimer);
  resizeTimer = setTimeout(render, 150);
});
</script>
</body>
</html>